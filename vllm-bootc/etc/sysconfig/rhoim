# RHOIM Environment Variables for bootc Model Serving

# --- Core Paths and Configuration (Used by Containerfile and Initializer) ---
MODEL_ID="TinyLlama/TinyLlama-1.1B-Chat-v1.0"
MODEL_PATH="/tmp/models"
VLLM_PORT="8000"
VLLM_HOST="0.0.0.0"

# --- VLLM/Device Configuration ---
# Set to "cpu" for CPU mode (local testing) or "cuda" for NVIDIA GPU mode (production)
# 
# This can be overridden at runtime in several ways:
# 1. Edit this file (/etc/sysconfig/rhoim) and restart the service
# 2. Use systemd override: systemctl edit rhoim-vllm.service (add Environment="VLLM_DEVICE_TYPE=cuda")
# 3. Set at bootc install time: bootc install --env VLLM_DEVICE_TYPE=cuda ...
#
# Assumes NVIDIA GPUs only - other GPU types are not supported
# This controls all device-related settings automatically
# Default: try GPU if available, otherwise use CPU
VLLM_DEVICE_TYPE="auto"

# Optional: Override specific vLLM settings if needed
# VLLM_LOGGING_LEVEL=DEBUG
# VLLM_USE_FLASHINFER=0

# --- Gateway/API Configuration (Used by rhoim-gateway.service) ---
API_KEYS="devkey1,devkey2"
# BASE_PATH=/ # (If used by your gateway)
# ENABLE_RHOAI_ALIAS=true # (If used by your gateway)

# --- Red Hat Registry Credentials (Required for pulling vLLM container image) ---
# These credentials are used to authenticate with registry.redhat.io
# Set these during bootc install or via systemd override
# Example: bootc install --env REDHAT_REGISTRY_USERNAME=your-username --env REDHAT_REGISTRY_TOKEN=your-token ...
# 
# Username format: Red Hat registry requires "org_id|username" format
# Option 1: Provide username in correct format (recommended)
#   REDHAT_REGISTRY_USERNAME="your-org-id|your-username"
# Option 2: Provide org_id separately (script will construct the format)
#   RHSM_ORG_ID="your-org-id"  # Note: Variable name is RHSM_ORG_ID (not REDHAT_REGISTRY_ORG_ID)
#   REDHAT_REGISTRY_USERNAME="your-username"
# Option 3: Just username (script will try to detect org_id from subscription-manager)
#   REDHAT_REGISTRY_USERNAME="your-username"
# 
# Uncomment and set these values:
# RHSM_ORG_ID="your-org-id"
# REDHAT_REGISTRY_USERNAME="your-org-id|your-username"  # Or just "your-username" if RHSM_ORG_ID is set
# REDHAT_REGISTRY_TOKEN="your-redhat-token"